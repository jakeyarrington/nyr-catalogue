<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="dist/css/app.min.css"  media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Neal's Yard Catalogue</title>
  </head>

  <body>

      <nav>
        <div class="nav-wrapper">
        <ul id="nav-mobile">
          <li>
            <a href="#" data-target="slide-out" class="sidenav-trigger tooltipped" data-position="right" data-tooltip="Available Items">
              <i class="material-icons">shopping_basket</i>
            </a>
          </li>
          <li>
            <a href="sass.html" class="tooltipped" data-position="right" data-tooltip="Share Catalogue">
              <span class="material-icons">share</span>
            </a>
          </li>
          <li>
            <a href="badges.html" class="tooltipped" data-position="right" data-tooltip="Your Favourites">
              <span class="material-icons">star</span>
            </a>
          </li>
          <li>
            <a href="collapsible.html" class="tooltipped" data-position="right" data-tooltip="Contact Consultant">
              <span class="material-icons">contact_phone</span>
            </a>
          </li>
        </ul>
      </div>
      </nav>

      <ul id="slide-out" class="sidenav">
        <li>
          <header>
            13 Items on Page
          </header>
        </li>
        <li>
           <div class="row">
            <div class="col s12">
              <div class="card">
                <div class="card-image">
                  <img src="https://materializecss.com/images/sample-1.jpg">
                  <span class="card-title">Card Title</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class="card-action">
                  <a href="#">Purchase</a>
                  <a href="#">
                    Favourite
                  </a>
                </div>
              </div>
            </div>
            <div class="col s12">
              <div class="card">
                <div class="card-image">
                  <img src="https://materializecss.com/images/sample-1.jpg">
                  <span class="card-title">Card Title</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class="card-action">
                  <a href="#">Purchase</a>
                  <a href="#">
                    Favourite
                  </a>
                </div>
              </div>
            </div>
            <div class="col s12">
              <div class="card">
                <div class="card-image">
                  <img src="https://materializecss.com/images/sample-1.jpg">
                  <span class="card-title">Card Title</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class="card-action">
                  <a href="#">Purchase</a>
                  <a href="#">
                    Favourite
                  </a>
                </div>
              </div>
            </div>
            <div class="col s12">
              <div class="card">
                <div class="card-image">
                  <img src="https://materializecss.com/images/sample-1.jpg">
                  <span class="card-title">Card Title</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class="card-action">
                  <a href="#">Purchase</a>
                  <a href="#">
                    Favourite
                  </a>
                </div>
              </div>
            </div>
          </div>
        </li>
       
      </ul>

      <div class="flip-book-container solid-container"></div>
      
          

    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="dist/js/app.min.js?v=1"></script>
    <script src="dist/js/3d-flip-book/js/libs/html2canvas.min.js"></script>
    <script src="dist/js/3d-flip-book/js/libs/three.min.js"></script>
    <script src="dist/js/3d-flip-book/js/libs/pdf.min.js"></script>
    <script src="dist/js/3d-flip-book/js/dist/3dflipbook.js"></script>

    

    <script>

      const catalogue_url = 'https://nyr-catalogue-wp.yarrington.app/wp-json/app/v1/catalogues';
      var pages = [];

      (function($) {

        $(document).ready(function(){


          $.get(catalogue_url, function(data) {

            const catalogue = data[0];
            const all_catalogues = data;

            // Organise Pages
            for (var i = catalogue.items.length - 1; i >= 0; i--) {
              var item = catalogue.items[i];

              if(typeof pages[item.page] == 'undefined') {
                pages[item.page] = [];
              }

              pages[item.page].push(item);
            }

            // Build Flipbook
            $('.solid-container').FlipBook({pdf: encodeURI(catalogue.pdf_file)});

          });

          $('.sidenav').sidenav();
          $('.tooltipped').tooltip();
        });

      })(jQuery);
          
    </script>

  </body>
</html>